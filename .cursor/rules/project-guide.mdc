---
alwaysApply: true
---
# Control Tower – Project Guide

## Architecture
This is a **Unified Model, Tool & GenAI Control Tower** – a governance platform for AI/ML models, GenAI use cases, and non-model tools/EUCs.

### 5 Planes
1. **Control Plane** – Inventory + governance workflow ([backend/app/api/](mdc:backend/app/api/router.py))
2. **Evaluation Plane** – Offline certification tests + red-team ([eval/](mdc:eval/promptfoo/promptfooconfig.yaml))
3. **Runtime Plane** – Logging/tracing/monitoring ([backend/app/utils/otel.py](mdc:backend/app/utils/otel.py))
4. **Evidence Plane** – Immutable artifacts, audit trail ([backend/app/services/evidence.py](mdc:backend/app/services/evidence.py))
5. **Policy Plane** – Rules, gates, risk appetite ([policies/opa/](mdc:policies/opa/approval_gates.rego))

### Tech Stack
- **Backend**: Python 3.12+, FastAPI, SQLAlchemy 2, Pydantic v2
- **Frontend**: Next.js 15, TypeScript, Tailwind, shadcn/ui
- **Database**: PostgreSQL 16 + pgvector
- **Workflow**: Temporal
- **Policy**: OPA + Rego
- **Evidence**: MinIO (S3) with SHA-256 content addressing
- **Events**: Redpanda (Kafka-compatible)
- **Observability**: OpenTelemetry → Phoenix/Langfuse + Prometheus/Grafana
- **Eval**: promptfoo, PyRIT, garak
- **Auth**: Keycloak (OIDC)

### Compliance Frameworks
SR 11-7, NIST AI 600-1, OWASP LLM Top 10 2025, OWASP Agentic Top 10 2026, ISO/IEC 42001, MITRE ATLAS, FINRA GenAI Controls

### Key Patterns
- All evidence artifacts use SHA-256 content-addressed storage with hash chains
- Policy decisions go through OPA (fail-closed)
- Guardrails use cascade architecture (cheap probe → heavy classifier → human)
- All PII must be redacted before logging
- Model version must be stamped on every request (FINRA)