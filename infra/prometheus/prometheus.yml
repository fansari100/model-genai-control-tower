########################################################################
# Control Tower â€“ Prometheus Configuration
########################################################################

global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: "control-tower-backend"
    metrics_path: /metrics
    static_configs:
      - targets: ["host.docker.internal:8000"]
        labels:
          service: "ct-backend"

  - job_name: "otel-collector"
    static_configs:
      - targets: ["otel-collector:8889"]
        labels:
          service: "ct-otel"

  - job_name: "temporal"
    static_configs:
      - targets: ["temporal:8000"]
        labels:
          service: "ct-temporal"

  - job_name: "minio"
    metrics_path: /minio/v2/metrics/cluster
    static_configs:
      - targets: ["minio:9000"]
        labels:
          service: "ct-minio"

  - job_name: "redpanda"
    static_configs:
      - targets: ["redpanda:9644"]
        labels:
          service: "ct-redpanda"
