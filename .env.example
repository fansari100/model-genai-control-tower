# ─────────────────────────────────────────────
# Control Tower – Environment Configuration
# ─────────────────────────────────────────────

# ── General ──────────────────────────────────
ENVIRONMENT=development
LOG_LEVEL=INFO
SECRET_KEY=change-me-in-production

# ── Postgres ─────────────────────────────────
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=control_tower
POSTGRES_USER=ct_user
POSTGRES_PASSWORD=ct_password
DATABASE_URL=postgresql+asyncpg://ct_user:ct_password@localhost:5432/control_tower
DATABASE_URL_SYNC=postgresql+psycopg2://ct_user:ct_password@localhost:5432/control_tower

# ── MinIO / S3 (Evidence Store) ──────────────
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_EVIDENCE=ct-evidence
MINIO_BUCKET_ARTIFACTS=ct-artifacts
MINIO_USE_SSL=false

# ── Redpanda / Kafka ────────────────────────
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_AUDIT=ct.audit.events
KAFKA_TOPIC_EVAL=ct.eval.events

# ── Temporal ─────────────────────────────────
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=control-tower
TEMPORAL_TASK_QUEUE=ct-governance

# ── OPA (Policy Engine) ─────────────────────
OPA_URL=http://localhost:8181
OPA_POLICY_PATH=/v1/data/control_tower

# ── Keycloak (Auth) ─────────────────────────
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=control-tower
KEYCLOAK_CLIENT_ID=ct-frontend
KEYCLOAK_CLIENT_SECRET=change-me

# ── OpenTelemetry ────────────────────────────
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=control-tower-backend
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

# ── Phoenix / Langfuse (LLM Tracing) ────────
PHOENIX_ENDPOINT=http://localhost:6006
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_HOST=http://localhost:3001

# ── Prometheus / Grafana ─────────────────────
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002

# ── LLM Provider (for demo use cases) ───────
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# ── Evaluation Tools ────────────────────────
PROMPTFOO_CONFIG=./eval/promptfoo/promptfooconfig.yaml
GARAK_MODEL_TYPE=openai
GARAK_MODEL_NAME=gpt-4o

# ── Frontend ─────────────────────────────────
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8080
NEXT_PUBLIC_KEYCLOAK_REALM=control-tower
NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=ct-frontend
